<article
  class='bg-light-100 rounded-lg shadow-lg h-fit px-8 py-3 space-y-5 sm:first:col-span-2 lg:first:col-span-3 group'
>
  {{../isAuthor}}
  <div class='absolute top-5 right-5'>
    {{#if ../isAuthor}}
    <div class='relative inline-block text-left'>
      <button
        type='button'
        class='menu-button peer/menu inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50'
        aria-expanded='false'
        aria-haspopup='true'
      >
        <span class='sr-only'> Post Options Menu</span>
        <i
          aria-hidden='true'
          class='pointer-events-none fa-solid fa-ellipsis'
        ></i>
      </button>
      <div
        class='hidden peer-aria-expanded/menu:block px-3 transition opacity-0 scale-95 ease-in duration-75 peer-aria-expanded/menu:opacity-100 peer-aria-expanded:duration-100 peer-aria-expanded:ease-out peer-aria-expanded/menu:scale-100 absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none'
        role='menu'
        aria-orientation='vertical'
        aria-labelledby='menu-button'
        tabindex='-1'
      >
        <div class='py-3' role='none'>
          <a
            href='/dashboard/edit-post/{{id}}'
            class='text-white mb-3 rounded-md bg-info-main hover:bg-info-hover block px-4 py-2 text-sm'
            role='menuitem'
            tabindex='-1'
            id='menu-item-2'
          >Edit Post</a>

          <button
            class='delete-post-button bg-danger-main rounded-md hover:bg-danger-hover text-white block w-full px-4 py-2 text-left text-sm'
            role='menuitem'
            data-post-id='{{id}}'
            tabindex='-1'
            id=''
          >Delete Post</button>
        </div>
      </div>
    </div>
    {{/if}}
  </div>
  <div>
    <a href='/posts/{{id}}'>
      <h3
        class='text-xl text-dark-400 font-bold group-first-of-type:text-3xl hover:underline hover:underline-offset-2 hover:decoration-2'
      >{{title}}</h3>
    </a>
    <small class='text-secondary-main/75 text-sm/9 font-medium'><i
        class='text-info-main fa-solid fa-calendar-day'
      ></i>
      {{format_date createdAt}}</small>
  </div>
  <p
    class='text-balance text-secondary-disabled indent-3 group-first-of-type:font-semibold group-first-of-type:text-lg group-first-of-type:text-dark-300'
  >
    {{#if @first}}
      {{body}}
    {{else}}
      {{format_body_random body}}
    {{/if}}</p>
  <div class='flex items-center gap-5'>
    <a
      class='rounded-full overflow-clip hover:ring-2 hover:ring-primary-main transition-all duration-150 ease-in-out group-first-of-type:ring-info-main'
      href='/users/{{user.username}}'
    >
      <img
        class='w-9 h-9'
        alt="{{user.username}}\'s Avatar"
        src='{{user.avatar}}'
      />
    </a>
    <div class='flex flex-col'>
      <a
        href='/users/{{user.username}}'
        class='text-sm font-bold text-secondary-disabled hover:text-secondary-hover hover:underline'
      >{{user.first_name}} {{user.last_name}}</a>
      <small
        class='text-xs font-medium text-secondary-main'
      >@{{user.username}}</small>
    </div>
  </div>
  <footer class='flex justify-between items-center'>
    <a
      href='/posts/{{id}}#comment'
      class='flex justify-center items-center w-6 h-6 rounded-full text-secondary-main hover:text-secondary-hover hover:drop-shadow-sm'
    >
      {{comments.length}}
      <i class='fa-regular fa-comment'></i>
    </a>
    <div class='flex gap-8 items-center'>

      <button
        onclick='likePost({{id}})'
        data-post-likes='{{likes}}'
        data-post-id='{{id}}'
        class='flex justify-center items-center w-6 h-6 rounded-full text-secondary-main hover:text-secondary-hover hover:drop-shadow-sm'
      >
        <small>{{likes}}&ThickSpace;</small>
        <i class='fa-regular fa-thumbs-up -translate-y-[1px]'></i>
      </button>
      <button
        onclick='dislikePost({{id}})'
        data-post-dislikes='{{dislikes}}'
        data-post-id='{{id}}'
        class='flex justify-center items-center w-6 h-6 rounded-full text-secondary-main hover:text-secondary-hover hover:drop-shadow-sm'
      >
        <small>{{dislikes}}&ThickSpace;</small>
        <i class='fa-regular fa-thumbs-down translate-y-[1px]'></i>
      </button>
    </div>
  </footer>
  <script src="/js/postLikes.js"></script>
</article>